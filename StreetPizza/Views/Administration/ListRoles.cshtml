@using Microsoft.AspNetCore.Identity;
@model IEnumerable<IdentityRole>

@{
    ViewBag.Title = "All Roles";
}

<div class="container">
    <hr class="log-reg-text-line" />
   
    <div class="row">
       
        <div class="col-xl-6 col-lg-8 col-md-10 col-sm-12">
            <div class="log-reg-page">

                <div class="log-reg-block">
                    <h2 class="log-reg-title">Administration page</h2>
                    <hr class="log-reg-text-line" id="short-line" />
                    <p class="log-reg-subtitle">@ViewBag.Title</p>
                </div>

                <div class="log-reg-block-bottom">
                    <a class="btn-first btn-color-first btn-round"
                       asp-controller="Administration" asp-action="CreateRole">
                        Add new role
                    </a>

                    <hr class="log-reg-text-line" />

                    @if (Model.Any())
                    {
                        foreach (var role in Model)
                        {
                            <div class="card mb-3">
                                <div class="card-header log-reg-label">
                                    RoleId: @role.Id
                                </div>
                                <div class="card-body log-reg-label">
                                    <h5> RoleName: @role.Name</h5>
                                </div>
                                <div class="card-footer">

                                    <form asp-action="DeleteRole" asp-route-id="@role.Id" method="post">
                                        <span id="shortDeleteSpan_@role.Id">
                                            <a class="btn-first btn-warning btn-round"
                                               asp-controller="Administration" asp-action="EditRole" asp-route-id="@role.Id">
                                                Edit
                                            </a>
                                            <input type="button" class="btn-first btn-danger btn-round"
                                                   onclick="toggleDeleteSpan('@role.Id', true)" value="Delete" />
                                        </span>
                                        <span id="longDeleteSpan_@role.Id" style="display:none">
                                            <span class="ml-3 mr-3">Are you sure you want to delete this role?</span>
                                            <button type="submit" class="btn-first btn-color-first">Yes</button>
                                            <input type="button" class="btn-first btn-color-second"
                                                   onclick="toggleDeleteSpan('@role.Id', false)" value="No" />
                                        </span>
                                    </form>

                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <div class="card">
                            <div class="card-header">
                                No roles
                            </div>
                            <div class="card-body">
                                <h5 class="card-title"> Use the button below to create a role</h5>
                            </div>
                        </div>
                    }
                </div>

            </div>
        </div>

    </div>

    <hr class="log-reg-text-line" />
</div>

@section Scripts {
    <script src="~/js/site.js"></script>
}
